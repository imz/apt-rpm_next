------------------------------------------------------------------------
r267 | pmatilai | 2006-09-06 23:02:41 +0300 (Wed, 06 Sep 2006) | 2 lines

- whoops, removed Top declaration...

------------------------------------------------------------------------
r266 | pmatilai | 2006-09-06 22:58:29 +0300 (Wed, 06 Sep 2006) | 4 lines

- remove ancient compatibility option handling
- dont set acquire::distroid to Conectiva
- change default cdrom mountpoint from /mnt/cdrom to more modern /media/cdrom

------------------------------------------------------------------------
r265 | pmatilai | 2006-09-06 22:46:38 +0300 (Wed, 06 Sep 2006) | 4 lines

- new handler method DepOp() for handling RPMSENSE_* to pkgCache::Dep::*
  conversions in one place
- make InternalDep() protected, nothing outside the handler needs it

------------------------------------------------------------------------
r264 | pmatilai | 2006-09-06 20:48:48 +0300 (Wed, 06 Sep 2006) | 5 lines

- rename handler method FileProvides() -> FileList() 
- common HasFile() method for all handler types
- use "modern" rpmfi iterator interface for accessing file information where 
  available (available since sometime in 2001...)

------------------------------------------------------------------------
r263 | pmatilai | 2006-08-24 21:10:25 +0300 (Thu, 24 Aug 2006) | 3 lines

- calculate the total amount of rpm operations including repackages and all
  by using the dep cache info, duh

------------------------------------------------------------------------
r262 | pmatilai | 2006-08-24 20:16:56 +0300 (Thu, 24 Aug 2006) | 3 lines

- Revert change from r249, pure install instead of upgrade breaks obsolete
  processing of rpm. Back to broken progress meters, sigh.

------------------------------------------------------------------------
r261 | pmatilai | 2006-08-22 01:04:44 +0300 (Tue, 22 Aug 2006) | 7 lines

- move common code in apt-cache/shell to cmdline
- make searchfile and whatprovides available in apt-shell
- fix some usage texts
- we want DoList() from apt-shell in apt-cache eventually so move it to cmdline
  as well, not used yet
- update translations

------------------------------------------------------------------------
r260 | pmatilai | 2006-08-21 23:28:25 +0300 (Mon, 21 Aug 2006) | 2 lines

- we dont have dselect so we dont need dselect-upgrade either

------------------------------------------------------------------------
r259 | pmatilai | 2006-08-21 23:23:15 +0300 (Mon, 21 Aug 2006) | 2 lines

- move yet more easyish cases of common apt-get/shell code to cmdline

------------------------------------------------------------------------
r258 | pmatilai | 2006-08-21 22:24:04 +0300 (Mon, 21 Aug 2006) | 2 lines

- move more common code from apt-get & apt-shell to cmdline

------------------------------------------------------------------------
r257 | pmatilai | 2006-08-07 18:29:21 +0300 (Mon, 07 Aug 2006) | 2 lines

- kill of gcc warning about using NULL in arithmetic

------------------------------------------------------------------------
r255 | pmatilai | 2006-08-06 08:55:33 +0300 (Sun, 06 Aug 2006) | 2 lines

- duh, screwed up the quiet-logic in previous commit

------------------------------------------------------------------------
r254 | pmatilai | 2006-08-06 08:42:45 +0300 (Sun, 06 Aug 2006) | 2 lines

- unbreak rpm::interactive=false when stdout is a not a tty

------------------------------------------------------------------------
r253 | pmatilai | 2006-08-03 22:16:58 +0300 (Thu, 03 Aug 2006) | 3 lines

- add build option for disabling repomd support to enable building
  without libxml2 >= 2.6.0

------------------------------------------------------------------------
r252 | pmatilai | 2006-08-03 19:01:20 +0300 (Thu, 03 Aug 2006) | 2 lines

- duh.. debug cruft

------------------------------------------------------------------------
r251 | pmatilai | 2006-08-03 19:00:13 +0300 (Thu, 03 Aug 2006) | 2 lines

- add build option for disabling SELinux support (on rpm >= 4.3)

------------------------------------------------------------------------
r250 | pmatilai | 2006-07-31 23:54:57 +0300 (Mon, 31 Jul 2006) | 3 lines

- use a separate handler for repomd filelists to remove gobs of
  unnecessary processing, cuts down cache generation time by circa 20%

------------------------------------------------------------------------
r249 | pmatilai | 2006-07-31 20:12:48 +0300 (Mon, 31 Jul 2006) | 3 lines

- count installs vs upgrades + repackages correctly for progress bar usage
- fix progress repackage progress bars

------------------------------------------------------------------------
r247 | pmatilai | 2006-07-14 08:45:06 +0300 (Fri, 14 Jul 2006) | 3 lines

- fix package removal on old rpm versions which don't support name.arch
  for RPMDBI_LABEL, simplify the code while at it

------------------------------------------------------------------------
r246 | pmatilai | 2006-07-14 07:54:58 +0300 (Fri, 14 Jul 2006) | 3 lines

- more off_t typing fixes (Ralf)
- bump cache version as this affects cache structures

------------------------------------------------------------------------
r245 | pmatilai | 2006-07-14 07:49:17 +0300 (Fri, 14 Jul 2006) | 2 lines

- fix breakage from earlier off_t patch

------------------------------------------------------------------------
r244 | pmatilai | 2006-07-11 09:31:41 +0300 (Tue, 11 Jul 2006) | 2 lines

- fix typo in error message (Ralf)

------------------------------------------------------------------------
r243 | pmatilai | 2006-07-11 09:31:13 +0300 (Tue, 11 Jul 2006) | 2 lines

- size_t typing fix (Ralf)

------------------------------------------------------------------------
r242 | pmatilai | 2006-07-11 09:30:20 +0300 (Tue, 11 Jul 2006) | 2 lines

- add missing include (Ralf)

------------------------------------------------------------------------
r241 | pmatilai | 2006-07-01 10:43:06 +0300 (Sat, 01 Jul 2006) | 4 lines

- enable building test/ programs under automake control (Ralf)
- remove irrelevant .deb specific test programs
- fix versiontest, conf and scratch tests to be buildable/functional in apt-rpm

------------------------------------------------------------------------
r240 | pmatilai | 2006-06-30 11:47:23 +0300 (Fri, 30 Jun 2006) | 4 lines

- i18n fixes from Ralf:
  * Eliminate silly Dir::Locale config variable
  * Call bindtextdomain in libapt's initialization

------------------------------------------------------------------------
r239 | pmatilai | 2006-06-30 11:46:00 +0300 (Fri, 30 Jun 2006) | 2 lines

- minor auto*tools cleanups (Ralf)

------------------------------------------------------------------------
r238 | pmatilai | 2006-06-29 19:10:00 +0300 (Thu, 29 Jun 2006) | 2 lines

- re-enable hashmap usage (Ralf)

------------------------------------------------------------------------
r237 | pmatilai | 2006-06-28 18:40:52 +0300 (Wed, 28 Jun 2006) | 6 lines

- configure cleanups from Ralf:
  * replacing AC_HELP_STRING with AS_HELP_STRING (AC_HELP_STRING is
    deprecated in autoconf > 2.13 in favor of AS_HELP_STRING) 
  * cosmetics, bringing ./configure --help into a more consistent/homogenious 
    look.

------------------------------------------------------------------------
r236 | pmatilai | 2006-06-27 19:00:59 +0300 (Tue, 27 Jun 2006) | 2 lines

- fix a minor bug in configure.ac (Ralf)

------------------------------------------------------------------------
r235 | pmatilai | 2006-06-22 10:24:25 +0300 (Thu, 22 Jun 2006) | 2 lines

- bumping trunk version to lorg4 (at least for now..)

------------------------------------------------------------------------
r224 | pmatilai | 2006-06-21 19:17:17 +0300 (Wed, 21 Jun 2006) | 2 lines

- somehow configure.ac ended up containing the contents twice .. cleanup (Ralf)

------------------------------------------------------------------------
r223 | pmatilai | 2006-06-21 18:23:53 +0300 (Wed, 21 Jun 2006) | 2 lines

- remove bunch of unused / debian-specific source-related stuff

------------------------------------------------------------------------
r222 | pmatilai | 2006-06-21 17:51:51 +0300 (Wed, 21 Jun 2006) | 2 lines

- rename deprecated configure.in to configure.ac (Ralf)

------------------------------------------------------------------------
r221 | pmatilai | 2006-06-20 18:46:49 +0300 (Tue, 20 Jun 2006) | 2 lines

- more size_t / off_t fixes (Ralf)

------------------------------------------------------------------------
r220 | pmatilai | 2006-06-17 17:48:41 +0300 (Sat, 17 Jun 2006) | 2 lines

- more size_t fixes (Ralf)

------------------------------------------------------------------------
r219 | pmatilai | 2006-06-15 20:17:27 +0300 (Thu, 15 Jun 2006) | 2 lines

- use vectors instead of non-portable variable arrays in apt-shell (Ralf)

------------------------------------------------------------------------
r218 | pmatilai | 2006-06-15 19:43:09 +0300 (Thu, 15 Jun 2006) | 2 lines

- big manpage overhaul (Vincent Danen)

------------------------------------------------------------------------
r217 | pmatilai | 2006-06-14 18:33:41 +0300 (Wed, 14 Jun 2006) | 2 lines

- create the directory structure apt needs to function on make install (Ralf)

------------------------------------------------------------------------
r216 | pmatilai | 2006-06-13 21:23:10 +0300 (Tue, 13 Jun 2006) | 2 lines

- nuke old, unused code from genpkglist (Ralf)

------------------------------------------------------------------------
r215 | pmatilai | 2006-06-13 21:16:06 +0300 (Tue, 13 Jun 2006) | 2 lines

- more "cosmetics" fixes to fix gcc warnings (Ralf)

------------------------------------------------------------------------
r214 | pmatilai | 2006-06-12 18:16:34 +0300 (Mon, 12 Jun 2006) | 3 lines

- size_t related bug fixes, addressing to "unsigned vs. signed types" issues
  (Ralf)

------------------------------------------------------------------------
r213 | pmatilai | 2006-06-12 17:30:33 +0300 (Mon, 12 Jun 2006) | 3 lines

- remove all references to the sgmltools (previously used to build man pages)
  from build (Ralf)

------------------------------------------------------------------------
r212 | pmatilai | 2006-06-12 17:24:39 +0300 (Mon, 12 Jun 2006) | 3 lines

- various "cosmetics" cleanups to shut up gcc complaints on higher warning 
  levels (Ralf)

------------------------------------------------------------------------
r211 | pmatilai | 2006-06-11 07:35:06 +0300 (Sun, 11 Jun 2006) | 2 lines

- use correct size type, add missing ftruncate() return value check (Ralf)

------------------------------------------------------------------------
r210 | pmatilai | 2006-06-09 20:04:09 +0300 (Fri, 09 Jun 2006) | 2 lines

- use correct offset type in rpmhandler (Ralf)

------------------------------------------------------------------------
r209 | pmatilai | 2006-06-09 19:13:59 +0300 (Fri, 09 Jun 2006) | 2 lines

- warnings + cleanup part 2 (Ralf)

------------------------------------------------------------------------
r208 | pmatilai | 2006-06-09 17:38:39 +0300 (Fri, 09 Jun 2006) | 2 lines

- eliminate several GCC warnings and C'isms, part 1 (Ralf)

------------------------------------------------------------------------
r207 | pmatilai | 2006-06-09 17:26:23 +0300 (Fri, 09 Jun 2006) | 3 lines

- don't try to look up CurrentVer() of noninstalled packages, duh
  (Daisuke Suzuki)

------------------------------------------------------------------------
r206 | pmatilai | 2006-06-09 11:11:27 +0300 (Fri, 09 Jun 2006) | 2 lines

- use correct offset type (Ralf)

------------------------------------------------------------------------
r205 | pmatilai | 2006-06-08 18:32:28 +0300 (Thu, 08 Jun 2006) | 2 lines

- Remove man-page's sgml sources and use the *roff sources directly. (Ralf)

------------------------------------------------------------------------
r204 | pmatilai | 2006-06-08 17:20:58 +0300 (Thu, 08 Jun 2006) | 2 lines

- beginning manpage cleanup: remove (outdated) translations

------------------------------------------------------------------------
r203 | pmatilai | 2006-06-05 21:46:37 +0300 (Mon, 05 Jun 2006) | 2 lines

- count readlocks as well (so they get released too)

------------------------------------------------------------------------
r202 | pmatilai | 2006-06-02 15:09:34 +0300 (Fri, 02 Jun 2006) | 2 lines

- extra check for filelists handling avoiding crashing in some cases 

------------------------------------------------------------------------
r201 | pmatilai | 2006-06-01 17:59:51 +0300 (Thu, 01 Jun 2006) | 2 lines

- forgot to add apt.conf.5 on r193

------------------------------------------------------------------------
r200 | pmatilai | 2006-06-01 15:49:49 +0300 (Thu, 01 Jun 2006) | 4 lines

- on newer rpm versions link epoch-zeroing behavior with promoteepoch, fixes
  http://bugzilla.atrpms.net/show_bug.cgi?id=831
- bump cache header version to force rebuild on upgrade

------------------------------------------------------------------------
r199 | pmatilai | 2006-05-30 23:57:23 +0300 (Tue, 30 May 2006) | 4 lines

- begin moving common code from apt-get and apt-shell to cmdline "library",
  only trivial stuff for now...
- update translations due to moving things around

------------------------------------------------------------------------
r198 | pmatilai | 2006-05-30 11:30:39 +0300 (Tue, 30 May 2006) | 2 lines

- add --root=/foo cli shortcut for RPM::RootDir option

------------------------------------------------------------------------
r197 | pmatilai | 2006-05-29 23:20:07 +0300 (Mon, 29 May 2006) | 3 lines

- initial implementation of apt-cache searchfile operation
- show only candidate version by default in apt-cache operations 

------------------------------------------------------------------------
r196 | pmatilai | 2006-05-29 20:28:25 +0300 (Mon, 29 May 2006) | 3 lines

- some extra checks to xml handling to avoid crashes on missing properties
  and such (eg with createrepo -n)

------------------------------------------------------------------------
r195 | pmatilai | 2006-05-29 19:54:36 +0300 (Mon, 29 May 2006) | 2 lines

- update bug reporting and author sections in manuals

------------------------------------------------------------------------
r194 | pmatilai | 2006-05-29 19:38:33 +0300 (Mon, 29 May 2006) | 2 lines

- fix some debianisms in apt.conf

------------------------------------------------------------------------
r193 | pmatilai | 2006-05-29 19:36:31 +0300 (Mon, 29 May 2006) | 3 lines

- only build documentation in maintainer-mode, include prebuilt manuals
  in distribution tarball (Ralf)

------------------------------------------------------------------------
r192 | pmatilai | 2006-05-29 19:11:08 +0300 (Mon, 29 May 2006) | 2 lines

- minor configuration cleanup for lua build (Ralf)

------------------------------------------------------------------------
r191 | pmatilai | 2006-05-29 00:35:22 +0300 (Mon, 29 May 2006) | 2 lines

- missing end tag

------------------------------------------------------------------------
r190 | pmatilai | 2006-05-29 00:31:54 +0300 (Mon, 29 May 2006) | 2 lines

- fix some debianisms in apt-cache manual

------------------------------------------------------------------------
r189 | pmatilai | 2006-05-29 00:28:26 +0300 (Mon, 29 May 2006) | 2 lines

- fix various debianism in apt-get manual

------------------------------------------------------------------------
r188 | pmatilai | 2006-05-29 00:20:20 +0300 (Mon, 29 May 2006) | 2 lines

- add repodata to cdrom scoring, remove debianisms

------------------------------------------------------------------------
r187 | pmatilai | 2006-05-28 15:47:50 +0300 (Sun, 28 May 2006) | 2 lines

- cast to avoid compiler warning

------------------------------------------------------------------------
r186 | pmatilai | 2006-05-28 14:57:52 +0300 (Sun, 28 May 2006) | 3 lines

- Dont munge package names on download. Add new configuration option 
  Acquire::Munge-Filenames to allow reverting to old behavior.

------------------------------------------------------------------------
r185 | pmatilai | 2006-05-28 12:35:24 +0300 (Sun, 28 May 2006) | 2 lines

- add missing checks for return values, fix a typing bug (Ralf Corsepius)

------------------------------------------------------------------------
r184 | pmatilai | 2006-05-27 14:22:31 +0300 (Sat, 27 May 2006) | 3 lines

- fix opening *.cc and *.h files in proper C++ mode in xemacs as well
  (Ville Skyttä)

------------------------------------------------------------------------
r183 | pmatilai | 2006-05-27 14:21:04 +0300 (Sat, 27 May 2006) | 3 lines

- remove debianism in broken package error messages (Ville Skyttä)
- update-po

------------------------------------------------------------------------
r182 | pmatilai | 2006-05-27 14:14:32 +0300 (Sat, 27 May 2006) | 2 lines

- nuke bunch of old ununsed code

------------------------------------------------------------------------
r181 | pmatilai | 2006-05-27 13:58:42 +0300 (Sat, 27 May 2006) | 2 lines

- dont crash on packages with no files

------------------------------------------------------------------------
r180 | pmatilai | 2006-05-27 11:30:51 +0300 (Sat, 27 May 2006) | 3 lines

- remove hard-coded reference to /usr/share/locale and replace it 
  with corresponding auto*magic (Ralf)

------------------------------------------------------------------------
r179 | pmatilai | 2006-05-26 18:58:30 +0300 (Fri, 26 May 2006) | 4 lines

- add repackage progress callbacks
- report full progress, erasures included
- still NeedsWork (tm)

------------------------------------------------------------------------
r178 | pmatilai | 2006-05-25 20:14:46 +0300 (Thu, 25 May 2006) | 2 lines

- add missing end tags in whatprovides docs..

------------------------------------------------------------------------
r177 | pmatilai | 2006-05-25 17:15:26 +0300 (Thu, 25 May 2006) | 2 lines

- initial erasure callbacks

------------------------------------------------------------------------
r176 | pmatilai | 2006-05-25 16:31:38 +0300 (Thu, 25 May 2006) | 3 lines

- move showprogress implementation out of the header file so that changes
  dont trigger rebuilding the whole dang thing

------------------------------------------------------------------------
r175 | pmatilai | 2006-05-25 16:14:44 +0300 (Thu, 25 May 2006) | 3 lines

- always use our own progress meter with internal pm
- show arch for packages in progress (to clarify multilib situations)

------------------------------------------------------------------------
r174 | pmatilai | 2006-05-25 15:52:56 +0300 (Thu, 25 May 2006) | 3 lines

- dont do explicit rpmdb open on non-prehistoric rpm versions, rpmlib will
  automatically do lazy open as needed

------------------------------------------------------------------------
r173 | pmatilai | 2006-05-25 14:31:47 +0300 (Thu, 25 May 2006) | 2 lines

- add athlon -> i386 mapping to archtable (VineLinux)

------------------------------------------------------------------------
r172 | pmatilai | 2006-05-25 14:09:05 +0300 (Thu, 25 May 2006) | 3 lines

- add whatprovides operation to apt-cache (AltLinux)
- fix whatdepends usage message 

------------------------------------------------------------------------
r171 | pmatilai | 2006-05-25 13:29:57 +0300 (Thu, 25 May 2006) | 2 lines

- default to RPM::Order=true (patch from AltLinux)

------------------------------------------------------------------------
r170 | pmatilai | 2006-05-25 13:26:20 +0300 (Thu, 25 May 2006) | 3 lines

- add allow-duplicated lua script to upgrade slot + relevant synaptic slots
  (patch from VineLinux)

------------------------------------------------------------------------
r169 | pmatilai | 2006-05-24 10:58:20 +0300 (Wed, 24 May 2006) | 2 lines

- fix building with gcc-2.96

------------------------------------------------------------------------
r167 | pmatilai | 2006-05-22 18:27:16 +0300 (Mon, 22 May 2006) | 2 lines

- update changelog, doh

------------------------------------------------------------------------
r166 | pmatilai | 2006-05-22 18:11:09 +0300 (Mon, 22 May 2006) | 2 lines

- preparing for lorg3.1

------------------------------------------------------------------------
r165 | pmatilai | 2006-05-22 18:02:03 +0300 (Mon, 22 May 2006) | 2 lines

- updates to German translation (Ralf)

------------------------------------------------------------------------
r164 | pmatilai | 2006-05-17 20:10:37 +0300 (Wed, 17 May 2006) | 3 lines

- bump cache minor version number to force full cache rebuild after upgrade 
  from previous versions

------------------------------------------------------------------------
r163 | pmatilai | 2006-05-17 20:08:36 +0300 (Wed, 17 May 2006) | 2 lines

- remove unused rpm::multiarch optionhash

------------------------------------------------------------------------
r162 | pmatilai | 2006-05-17 08:53:55 +0300 (Wed, 17 May 2006) | 2 lines

- set HOME in apt-cron, otherwise signed repositories wont work from apt-cron 

------------------------------------------------------------------------
r161 | pmatilai | 2006-05-16 17:32:09 +0300 (Tue, 16 May 2006) | 2 lines

- fix off-by-one in filelists handling

------------------------------------------------------------------------
r160 | pmatilai | 2006-05-15 19:02:20 +0300 (Mon, 15 May 2006) | 9 lines

- In rpm < 4.2.1 zero epoch isn't the same as non-existent epoch, we can't
  but blindly assume a patched createrepo not adding false zero epochs was
  used and treat everything as is. With newer rpm's we can deal with the
  zero-epoch silliness but they need to be treated uniformly everywhere
  to keep apt's version bookkeeping in order, so we remove them. The other
  alternative of *adding* zero epochs everywhere is slightly more complex,
  looks uglier and causes some script breakage (although the scripts could
  be considered broken as well). 

------------------------------------------------------------------------
r159 | pmatilai | 2006-05-10 19:39:03 +0300 (Wed, 10 May 2006) | 2 lines

- remove bunch of unnecessary rpmlib includes

------------------------------------------------------------------------
r158 | pmatilai | 2006-05-10 18:39:15 +0300 (Wed, 10 May 2006) | 3 lines

- fix type-punning errors using temporary variables in rpmhandler + genpkglist
- fix "might be used uninitialized" complaint in apt-shell

------------------------------------------------------------------------
r157 | pmatilai | 2006-05-09 17:15:18 +0300 (Tue, 09 May 2006) | 2 lines

- add apt-cron from FE package to contrib

------------------------------------------------------------------------
r156 | pmatilai | 2006-05-08 23:55:20 +0300 (Mon, 08 May 2006) | 3 lines

- ignore gpg-pubkey "packages" unconditionally on rpm >= 4.1, they can't
  be handled with apt at all so they shouldn't be visible either

------------------------------------------------------------------------
r155 | pmatilai | 2006-05-08 23:44:22 +0300 (Mon, 08 May 2006) | 2 lines

- fix default rpm::source::build-command value to match reality

------------------------------------------------------------------------
r154 | pmatilai | 2006-05-08 23:38:26 +0300 (Mon, 08 May 2006) | 2 lines

- fix the default value of apt::cache::allnames to act like intended

------------------------------------------------------------------------
r153 | pmatilai | 2006-05-08 22:01:19 +0300 (Mon, 08 May 2006) | 4 lines

- use iterator in repomd handler offset handling to make it behave as the 
  handler interface requires thus fixing an off-by-one bug causing the first 
  package of repository to go ignored

------------------------------------------------------------------------
r152 | pmatilai | 2006-05-08 17:48:12 +0300 (Mon, 08 May 2006) | 4 lines

- replace the questionable magic to conditionally install headers in 
  buildlib/Makefile.am with AC_CONFIG_LINK'ed files, get rid of 
  buildlib/Makefile* (Ralf)

------------------------------------------------------------------------
r151 | pmatilai | 2006-05-08 09:44:16 +0300 (Mon, 08 May 2006) | 2 lines

- cleanup + simplify buildlib/tools.m4 handling (Ralf)

------------------------------------------------------------------------
r150 | pmatilai | 2006-05-07 12:33:49 +0300 (Sun, 07 May 2006) | 6 lines

- When stepping through source records skip binaries
- Move CreateSrcParser() to rpmRepomdIndex class from rpmRepomdSrcIndex
-> Mixed binary + source repomd suddenly works. repomd-src isn't strictly
needed anymore but should be used for efficiency reasons when using pure
source repositories.

------------------------------------------------------------------------
r149 | pmatilai | 2006-05-05 20:24:04 +0300 (Fri, 05 May 2006) | 2 lines

- resurrect some gettext-upgrade victims :)

------------------------------------------------------------------------
r148 | pmatilai | 2006-05-05 14:01:27 +0300 (Fri, 05 May 2006) | 2 lines

- honor quiet mode in rpm progress reporting (Daisuke Suzuki)

------------------------------------------------------------------------
r147 | pmatilai | 2006-05-05 13:54:36 +0300 (Fri, 05 May 2006) | 2 lines

- remove leftover files from gettext update + add some missing bits (Ralf)

------------------------------------------------------------------------
r146 | pmatilai | 2006-05-05 09:50:56 +0300 (Fri, 05 May 2006) | 2 lines

- actually remove intl/ directory + the zero-sized files

------------------------------------------------------------------------
r145 | pmatilai | 2006-05-05 09:22:10 +0300 (Fri, 05 May 2006) | 2 lines

- update to gettext 0.14.5, remove internal intl (Ralf)

------------------------------------------------------------------------
r144 | pmatilai | 2006-05-04 23:00:20 +0300 (Thu, 04 May 2006) | 3 lines

- kill one remaining extra e:v-r logic, use handler EVR instead
- remove a commented leftover Epoch() definition from rpmhandler

------------------------------------------------------------------------
r143 | pmatilai | 2006-05-04 22:31:13 +0300 (Thu, 04 May 2006) | 2 lines

- updated Japanese translation (Daisuke Suzuki)

------------------------------------------------------------------------
r142 | pmatilai | 2006-05-04 17:31:59 +0300 (Thu, 04 May 2006) | 2 lines

- Japanese translation was not being included (Ralf)

------------------------------------------------------------------------
r141 | pmatilai | 2006-05-04 13:00:40 +0300 (Thu, 04 May 2006) | 3 lines

- add bug reporting address to configure + other minor bugs in Makefile.am's
  (Ralf)

------------------------------------------------------------------------
r140 | pmatilai | 2006-05-02 23:12:13 +0300 (Tue, 02 May 2006) | 2 lines

- converts pkgSrcRecords from using arrays to std::vector (Ralf)

------------------------------------------------------------------------
r139 | pmatilai | 2006-05-02 11:43:47 +0300 (Tue, 02 May 2006) | 2 lines

- populate Component of repomd repos to enable repository pinning with repomd

------------------------------------------------------------------------
r138 | pmatilai | 2006-04-26 23:49:22 +0300 (Wed, 26 Apr 2006) | 2 lines

- shut up a couple of "might be used uninitialized" compiler warnings

------------------------------------------------------------------------
r137 | pmatilai | 2006-04-26 21:53:35 +0300 (Wed, 26 Apr 2006) | 3 lines

- avoid redundant processing of file entries from primary.xml when
  filelists.xml is processed (Ralf Corsepius)

------------------------------------------------------------------------
r136 | pmatilai | 2006-04-26 17:35:15 +0300 (Wed, 26 Apr 2006) | 2 lines

- remove ununsed m4/isc-posix.m4 and buildlib/sizetable files (Ralf)

------------------------------------------------------------------------
r135 | pmatilai | 2006-04-26 17:33:43 +0300 (Wed, 26 Apr 2006) | 2 lines

- require libxml2-2.6.x at minimum for xmlReadFile (Ralf)

------------------------------------------------------------------------
r134 | pmatilai | 2006-04-26 17:31:11 +0300 (Wed, 26 Apr 2006) | 2 lines

- fix build issue with older g++ (Ralf Corsepius)

------------------------------------------------------------------------
r133 | pmatilai | 2006-04-25 18:29:53 +0300 (Tue, 25 Apr 2006) | 3 lines

- remove hardcoded gpg path (Ralf Corsepius)
- autoreconf

------------------------------------------------------------------------
r132 | pmatilai | 2006-04-24 22:39:15 +0300 (Mon, 24 Apr 2006) | 2 lines

- pkgArchiveCleaner destructor needs to be public for synaptic

------------------------------------------------------------------------
r131 | pmatilai | 2006-04-24 21:38:00 +0300 (Mon, 24 Apr 2006) | 5 lines

- clean up install/remove processing in rpmpm::Go()
- unmunge the multilib package names when removing
- always refer to packages with their architecture when removing, needed 
  for multilib

------------------------------------------------------------------------
r130 | pmatilai | 2006-04-24 18:15:13 +0300 (Mon, 24 Apr 2006) | 4 lines

- use automake defined pkgdata dir for lua script dir instead of hardcoded
  /usr/share/ (Ralf Corsepius)
- update auto*stuff (automake 1.9.6)

------------------------------------------------------------------------
r129 | pmatilai | 2006-04-24 17:34:02 +0300 (Mon, 24 Apr 2006) | 2 lines

- change an array to vector for code readability + safety (Ralf Corsepius)

------------------------------------------------------------------------
r128 | pmatilai | 2006-04-24 17:10:47 +0300 (Mon, 24 Apr 2006) | 2 lines

- try to deduct srpm package name from srpm filename (Ralf Corsepius)

------------------------------------------------------------------------
r127 | pmatilai | 2006-04-24 10:15:59 +0300 (Mon, 24 Apr 2006) | 2 lines

- add ChangeLog per Ralf's request

------------------------------------------------------------------------
r126 | pmatilai | 2006-04-24 10:07:55 +0300 (Mon, 24 Apr 2006) | 3 lines

- work around broken createrepo version(s) reporting more packages in the
  repository than there are in reality

------------------------------------------------------------------------
r124 | pmatilai | 2006-04-23 08:59:23 +0300 (Sun, 23 Apr 2006) | 2 lines

- update translations

------------------------------------------------------------------------
r123 | pmatilai | 2006-04-19 00:56:41 +0300 (Wed, 19 Apr 2006) | 3 lines

- return 1, not 0 from luaopen_init() in case somebody happens to check 
  the return value some day

------------------------------------------------------------------------
r122 | pmatilai | 2006-04-19 00:48:22 +0300 (Wed, 19 Apr 2006) | 2 lines

- remove unused private include from rpmhandler.h (RH bugzilla #157734)

------------------------------------------------------------------------
r121 | pmatilai | 2006-04-19 00:33:34 +0300 (Wed, 19 Apr 2006) | 4 lines

- add method to find a package by name from rpmdb
- use rpmdb handler methods for getting to distroverpkg
- clean up the logic for setting distroversion

------------------------------------------------------------------------
r120 | pmatilai | 2006-04-18 23:10:11 +0300 (Tue, 18 Apr 2006) | 2 lines

- xmlTextReaderRead() can fail with non-zero values as well

------------------------------------------------------------------------
r119 | pmatilai | 2006-04-18 22:28:48 +0300 (Tue, 18 Apr 2006) | 3 lines

- optimize rpmRepomdIndex::Size() shaving circa 30% from cache generation time
- avoid segfaulting on empty repositories

------------------------------------------------------------------------
r118 | pmatilai | 2006-04-18 10:26:05 +0300 (Tue, 18 Apr 2006) | 2 lines

- correctly handle trailing slash for repomd ReleaseURI (Ralf)

------------------------------------------------------------------------
r117 | pmatilai | 2006-04-13 08:40:33 +0300 (Thu, 13 Apr 2006) | 2 lines

- updated german translation (Ralf)

------------------------------------------------------------------------
r116 | pmatilai | 2006-04-13 08:39:34 +0300 (Thu, 13 Apr 2006) | 4 lines

- patch from Ralf:
  - avoid unused function warning with rpm < 4.4.3
  - avoid unsigned int wraparound with empty repositories

------------------------------------------------------------------------
r115 | pmatilai | 2006-04-12 22:53:56 +0300 (Wed, 12 Apr 2006) | 2 lines

- remove leftover cvs-cruft

------------------------------------------------------------------------
r114 | pmatilai | 2006-04-12 22:51:11 +0300 (Wed, 12 Apr 2006) | 2 lines

- remove the empty Makefile.* from previous commit, duh

------------------------------------------------------------------------
r113 | pmatilai | 2006-04-12 22:49:40 +0300 (Wed, 12 Apr 2006) | 2 lines

- auto*foo fixes (Ralf Corsepius)

------------------------------------------------------------------------
r112 | pmatilai | 2006-04-12 09:22:17 +0300 (Wed, 12 Apr 2006) | 2 lines

- more i18n cleanups (Ralf Corsepius)

------------------------------------------------------------------------
r111 | pmatilai | 2006-04-11 18:12:48 +0300 (Tue, 11 Apr 2006) | 2 lines

- i18n cleanup (Ralf Corsepius)

------------------------------------------------------------------------
r110 | pmatilai | 2006-04-11 18:12:01 +0300 (Tue, 11 Apr 2006) | 2 lines

- convert several private uses of unsigned int etc to size_t  (Ralf Corsepius)

------------------------------------------------------------------------
r109 | pmatilai | 2006-04-10 23:40:51 +0300 (Mon, 10 Apr 2006) | 2 lines

- add preserve-conf script to contrib

------------------------------------------------------------------------
r108 | pmatilai | 2006-04-09 12:03:53 +0300 (Sun, 09 Apr 2006) | 2 lines

- update sources.list to document the types we support these days

------------------------------------------------------------------------
r107 | pmatilai | 2006-04-09 10:06:45 +0300 (Sun, 09 Apr 2006) | 4 lines

- trim out conectiva-specific stuff from rpmpriorities, modernize a bit
- refer to /var/lib/apt instead of /var/state/apt in documentation (Philipp 
  Thomas ?)

------------------------------------------------------------------------
r106 | pmatilai | 2006-04-09 09:38:01 +0300 (Sun, 09 Apr 2006) | 2 lines

- add ppc64 to archtable (Philipp Thomas ?)

------------------------------------------------------------------------
r105 | pmatilai | 2006-04-08 21:30:32 +0300 (Sat, 08 Apr 2006) | 4 lines

- implement and use generic VersionHash() method in rpmlistparser instead
  of handler-specific hashes
- show architecture in addition to version in apt-cache showpkg versions list 

------------------------------------------------------------------------
r104 | pmatilai | 2006-04-07 19:43:08 +0300 (Fri, 07 Apr 2006) | 3 lines

- some error handling + sanity checks for repomd parsing
- clean up debugging junk

------------------------------------------------------------------------
r103 | pmatilai | 2006-04-07 15:50:51 +0300 (Fri, 07 Apr 2006) | 3 lines

- Oops... versionless dependencies were not entered into depcache at all, 
  small miracle *anything* worked before

------------------------------------------------------------------------
r102 | pmatilai | 2006-04-07 15:39:44 +0300 (Fri, 07 Apr 2006) | 2 lines

- revert the tweak, real issue was elsewhere...

------------------------------------------------------------------------
r101 | pmatilai | 2006-04-07 12:16:29 +0300 (Fri, 07 Apr 2006) | 4 lines

- experimental tweak to the upgrade algorithm to make apt not favor installed
  package versions over others in case of conflicts, this *seems* to have fixed
  the "resolve generated breaks" errors on fc4 -> fc5 upgrade

------------------------------------------------------------------------
r100 | pmatilai | 2006-04-07 00:20:35 +0300 (Fri, 07 Apr 2006) | 3 lines

- ignore md5sums for source packages for now, the md5 vs sha1 sum issue
  in various places needs fixing for real sooner or later though

------------------------------------------------------------------------
r99 | pmatilai | 2006-04-06 17:59:30 +0300 (Thu, 06 Apr 2006) | 3 lines

- add EVR() method for rpmhandler instead of having the same algorithm in
  four different places

------------------------------------------------------------------------
r98 | pmatilai | 2006-04-06 17:28:22 +0300 (Thu, 06 Apr 2006) | 2 lines

- resurrect source operations for repomd repositories

------------------------------------------------------------------------
r97 | pmatilai | 2006-04-05 19:34:49 +0300 (Wed, 05 Apr 2006) | 2 lines

- use strlen() instead of sizeof() for determining string sizes (Ralf)

------------------------------------------------------------------------
r96 | pmatilai | 2006-04-05 15:18:59 +0300 (Wed, 05 Apr 2006) | 2 lines

- Avoid printing the first entry on deplist lists twice (Ralf Corsepius)

------------------------------------------------------------------------
r95 | pmatilai | 2006-04-05 12:19:02 +0300 (Wed, 05 Apr 2006) | 2 lines

- fix various issues with distroverpkg (Dmitry V. Levin)

------------------------------------------------------------------------
r94 | pmatilai | 2006-04-05 12:17:33 +0300 (Wed, 05 Apr 2006) | 2 lines

- update maintainter status

------------------------------------------------------------------------
r92 | pmatilai | 2006-04-03 23:10:54 +0300 (Mon, 03 Apr 2006) | 3 lines

- clean up xml-related memory handling
- std::min is pickier about types...

------------------------------------------------------------------------
r91 | pmatilai | 2006-04-03 21:04:04 +0300 (Mon, 03 Apr 2006) | 2 lines

- use a vector into primary.xml to simplify skip/jump etc

------------------------------------------------------------------------
r90 | pmatilai | 2006-03-28 00:29:46 +0300 (Tue, 28 Mar 2006) | 4 lines

- Huge pile of cleanups for compiler warnings mostly from Philipp Thomas and
  Ralf Corsepius
- Add missing Size() implementation for repomd index

------------------------------------------------------------------------
r89 | pmatilai | 2006-03-24 00:22:35 +0200 (Fri, 24 Mar 2006) | 2 lines

- DOH, reversed condition .. brown paperbag

------------------------------------------------------------------------
r88 | pmatilai | 2006-03-23 23:45:27 +0200 (Thu, 23 Mar 2006) | 2 lines

- avoid unnecessary jumping in repomd handler, it's slow enough as is :-/

------------------------------------------------------------------------
r87 | pmatilai | 2006-03-23 23:12:14 +0200 (Thu, 23 Mar 2006) | 4 lines

- use xmlStrcmp instead of strcmp when dealing with xml data
- some memory freeing fixes
- remove some debug junk

------------------------------------------------------------------------
r86 | pmatilai | 2006-03-23 22:37:52 +0200 (Thu, 23 Mar 2006) | 3 lines

- optimize filelists access so it's only used in cache generation and use
  xmlreader instead of DOM to pull it in, saves HUGE amount of memory

------------------------------------------------------------------------
r85 | pmatilai | 2006-03-21 23:48:08 +0200 (Tue, 21 Mar 2006) | 2 lines

- implement filelists.xml processing for file dependencies

------------------------------------------------------------------------
r84 | pmatilai | 2006-03-21 14:38:04 +0200 (Tue, 21 Mar 2006) | 2 lines

- actually process file provides for repomd

------------------------------------------------------------------------
r83 | pmatilai | 2006-03-21 12:04:43 +0200 (Tue, 21 Mar 2006) | 2 lines

- treat zero epochs from repomd as no epoch

------------------------------------------------------------------------
r82 | pmatilai | 2006-03-20 16:12:35 +0200 (Mon, 20 Mar 2006) | 2 lines

- oops, fix versioned rpm internal dependencies with repomd

------------------------------------------------------------------------
r81 | pmatilai | 2006-03-19 14:13:41 +0200 (Sun, 19 Mar 2006) | 2 lines

- allow turning off cache regeneration on each run for rpm >= 4.4.4

------------------------------------------------------------------------
r80 | pmatilai | 2006-03-19 12:16:06 +0200 (Sun, 19 Mar 2006) | 2 lines

- merge repomd branch

------------------------------------------------------------------------
r62 | pmatilai | 2006-03-06 23:21:50 +0200 (Mon, 06 Mar 2006) | 2 lines

- Fix thinko in srpm dependency parsing

------------------------------------------------------------------------
r33 | pmatilai | 2006-02-08 18:51:18 +0200 (Wed, 08 Feb 2006) | 2 lines

- allow arbitrary url for comps.xml location

------------------------------------------------------------------------
r32 | pmatilai | 2006-02-07 01:21:02 +0200 (Tue, 07 Feb 2006) | 2 lines

- enable self-referencing provides and see what breaks...

------------------------------------------------------------------------
r31 | pmatilai | 2006-02-07 01:16:20 +0200 (Tue, 07 Feb 2006) | 2 lines

- force cache rebuild for each run on rpm >= 4.4.4 for runtime dependencies :-/

------------------------------------------------------------------------
r30 | pmatilai | 2006-02-07 00:43:39 +0200 (Tue, 07 Feb 2006) | 2 lines

- basic implementation of runtime access() dependencies

------------------------------------------------------------------------
r29 | pmatilai | 2006-02-06 23:45:49 +0200 (Mon, 06 Feb 2006) | 3 lines

- implement some rpm >= 4.4.4 runtime probe dependencies
- add stubs for the rest

------------------------------------------------------------------------
r27 | pmatilai | 2006-02-06 21:14:02 +0200 (Mon, 06 Feb 2006) | 2 lines

- prepare for lorg2

------------------------------------------------------------------------
r26 | pmatilai | 2006-02-06 21:12:19 +0200 (Mon, 06 Feb 2006) | 3 lines


- bump version

------------------------------------------------------------------------
r25 | pmatilai | 2006-02-06 21:11:06 +0200 (Mon, 06 Feb 2006) | 4 lines

- add support for yum-style distroverpkg package whose version can be
  read from rpmdb (or overwritten with config) and new variable substitution
  $(VERSION) -> distrover in sources.list

------------------------------------------------------------------------
r24 | pmatilai | 2006-02-06 19:21:43 +0200 (Mon, 06 Feb 2006) | 2 lines

- move the multilib-stuff to where it belongs to

------------------------------------------------------------------------
r22 | pmatilai | 2006-02-01 20:58:54 +0200 (Wed, 01 Feb 2006) | 2 lines

- handle the rest of multilib systems .. at least in theory

------------------------------------------------------------------------
r21 | pmatilai | 2006-01-31 22:05:14 +0200 (Tue, 31 Jan 2006) | 2 lines

- a bit more generic compatarch stuff for multilib

------------------------------------------------------------------------
r20 | pmatilai | 2006-01-31 19:54:02 +0200 (Tue, 31 Jan 2006) | 2 lines

- remove unused code

------------------------------------------------------------------------
r19 | pmatilai | 2006-01-31 18:25:36 +0200 (Tue, 31 Jan 2006) | 2 lines

- much simpler multilib handling by renaming only non-native packages

------------------------------------------------------------------------
r18 | pmatilai | 2006-01-17 21:44:49 +0200 (Tue, 17 Jan 2006) | 2 lines

- back to multilibbing only rpmdb packages, for repos its way too wacky

------------------------------------------------------------------------
r17 | pmatilai | 2006-01-17 20:42:37 +0200 (Tue, 17 Jan 2006) | 2 lines

- apply Progeny's redir and authentication patch

------------------------------------------------------------------------
r16 | pmatilai | 2006-01-17 20:41:29 +0200 (Tue, 17 Jan 2006) | 2 lines

- virtual packages can have candidate versions

------------------------------------------------------------------------
r15 | pmatilai | 2006-01-17 04:50:08 +0200 (Tue, 17 Jan 2006) | 2 lines

- thinko in suggests-support

------------------------------------------------------------------------
r14 | pmatilai | 2006-01-17 03:25:18 +0200 (Tue, 17 Jan 2006) | 2 lines

- oops, wrong multilib patch applied, previous only multilibs installed pkgs

------------------------------------------------------------------------
r13 | pmatilai | 2006-01-17 03:05:13 +0200 (Tue, 17 Jan 2006) | 2 lines

- use @ as arch separator instead of .

------------------------------------------------------------------------
r12 | pmatilai | 2006-01-17 02:31:19 +0200 (Tue, 17 Jan 2006) | 2 lines

- initial multilib support (only packages in the same repository are considered)

------------------------------------------------------------------------
r11 | pmatilai | 2006-01-17 02:04:24 +0200 (Tue, 17 Jan 2006) | 2 lines

- libtoolize -c -f && autoreconf

------------------------------------------------------------------------
r10 | pmatilai | 2006-01-17 02:01:33 +0200 (Tue, 17 Jan 2006) | 2 lines

- autoreconf, so this stuff builds sanely on fc4..

------------------------------------------------------------------------
r9 | pmatilai | 2006-01-17 01:56:03 +0200 (Tue, 17 Jan 2006) | 2 lines

- initial support for enhances/suggests in rpm >= 4.4.3

------------------------------------------------------------------------
r8 | pmatilai | 2006-01-17 01:24:59 +0200 (Tue, 17 Jan 2006) | 2 lines

- negative pin on a package is equal to "any version but this"

------------------------------------------------------------------------
r7 | pmatilai | 2006-01-17 01:22:11 +0200 (Tue, 17 Jan 2006) | 2 lines

- initial rpm 4.4.4 support

------------------------------------------------------------------------
r6 | pmatilai | 2006-01-17 01:18:56 +0200 (Tue, 17 Jan 2006) | 2 lines

- appease aclocal >= 1.8 (Ville Skyttä)

------------------------------------------------------------------------
r5 | pmatilai | 2006-01-17 01:17:30 +0200 (Tue, 17 Jan 2006) | 2 lines

- read-only, not exclusive rpmdb lock for the initial dependency processing

------------------------------------------------------------------------
r4 | pmatilai | 2006-01-17 01:16:46 +0200 (Tue, 17 Jan 2006) | 2 lines

- more python make issues

------------------------------------------------------------------------
r3 | pmatilai | 2006-01-17 01:16:18 +0200 (Tue, 17 Jan 2006) | 2 lines

- Fix some issues in python binding build

------------------------------------------------------------------------
r2 | pmatilai | 2006-01-17 01:14:40 +0200 (Tue, 17 Jan 2006) | 2 lines

- change scriptdir to /usr/share/apt

------------------------------------------------------------------------
r1 | pmatilai | 2006-01-17 01:10:47 +0200 (Tue, 17 Jan 2006) | 2 lines

- initial import of revision 374 from cnc

------------------------------------------------------------------------
