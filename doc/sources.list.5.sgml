<!-- -*- mode: sgml; mode: fold -*- -->
<!doctype refentry PUBLIC "-//OASIS//DTD DocBook V3.1//EN" [

<!ENTITY % aptent SYSTEM "apt.ent">
%aptent;

]>

<refentry>
 &apt-docinfo;
 
 <refmeta>
   <refentrytitle>sources.list</>
   <manvolnum>5</>
 </refmeta>
 
 <!-- Man page title -->
 <refnamediv>
    <refname>sources.list</>
    <refpurpose>Package resource list for APT</>
 </refnamediv>
 
 <RefSect1><Title>Description</>
   <para>   
   The package resource list is used to locate archives of the package
   distribution system in use on the system. 
   This control file is located in <filename>/etc/apt/sources.list</>
   and additionally any files ending in .list in 
   <filename>/etc/apt/sources.list.d</> are included.
   </>
   <para>
   The source list is designed to support any number of active sources and a
   variety of source media. The file lists one source per line, with the
   most preferred source listed first. The format of each line is:
   <literal/type uri args/. The first item, <literal/type/, determines the 
   format for <literal/args/. <literal/uri/ is a Universal Resource Identifier 
   (URI), which is a superset of the more specific and well-known Universal
   Resource Locator, or URL. The rest of the line can be marked as a comment 
   by using a #.
   </>
   <para>
   The generic format of sources.list entry is:
   <literallayout>type baseuri distribution [component comp2 ...]</literallayout>
   </para>

   <para>
   Type is one of the types explained below. Baseuri is the URI to the root
   of given distribution, distribution part points to a given distribution
   name, version and architecture. The splitting of URI into baseuri and
   distribution parts should be done in a way that allows pointing the baseuri
   to another mirror without touching distribution.

   Some types additionally support a component-entry.
   </para>

   <para>
   The following variable substitutions are done on sources.list entries:

   <literal/$(ARCH)/ is substituted with the base archecture of the system.
   </para><para>
   <literal/$(VERSION)/ is substituted with the distribution version if
   configured automatically via Apt::DistroVerPkg or manually via 
   Apt::DistroVersion configuration option.
   </para>
 </RefSect1>
 
 <RefSect1><Title>The repomd and repomd-src types</>
   <para>
   The format of repomd and repomd-src sources.list entries is:
   <literallayout>repomd baseuri distribution</literallayout>
   <literallayout>repomd-src baseuri distribution</literallayout>
   Repomd repositories do not support a concept of "components"!
   </para>
    
 </RefSect1>

 <RefSect1><Title>The rpm and rpm-src types</>
   <para>
   The format of rpm and rpm-src sources.list entries is:
   <literallayout>rpm baseuri distribution component [comp2 ...]</literallayout>
   <literallayout>rpm-src baseuri distribution component [comp2 ...]</literallayout>
   At least one component must be specified for rpm and rpm-src 
   repositories.
   </para>
 </RefSect1>

 <RefSect1><Title>The rpm-dir and rpm-src-dir types</>
   <para>
   The format of rpm-dir and rpm-src-dir sources.list entries is:
   <literallayout>rpm-dir baseuri distribution component [comp2 ...]</literallayout>
   <literallayout>rpm-src-dir baseuri distribution component [comp2 ...]</literallayout>
   At least one component must be specified for rpm and rpm-src 
   repositories. Rpm-dir and rpm-src-dir only accept file:// uri's!
   </para>
 </RefSect1>

 <RefSect1><title>URI specification</title>
   <para>
   The currently recognized URI types are cdrom, file, http, and ftp.
   <VariableList>
    <VarListEntry><term>file</term>
    <ListItem><Para>
    The file scheme allows an arbitrary directory in the file system to be
    considered an archive. This is useful for NFS mounts and local mirrors or
    archives.</para></listitem>
    </VarListEntry>
    
    <VarListEntry><term>cdrom</term>
    <ListItem><Para>
    The cdrom scheme allows APT to use a local CDROM drive with media
    swapping. Use the &apt-cdrom; program to create cdrom entries in the
    source list.</para></listitem>
    </VarListEntry>

    <VarListEntry><term>http</term>
    <ListItem><Para>
    The http scheme specifies an HTTP server for the archive. If an environment
    variable <EnVar/http_proxy/ is set with the format 
    http://server:port/, the proxy server specified in
    <EnVar/http_proxy/ will be used. Users of authenticated HTTP/1.1 proxies 
    may use a string of the format http://user:pass@server:port/
    Note that this is an insecure method of authentication.</para></listitem>
    </VarListEntry>

    <VarListEntry><term>ftp</term>
    <ListItem><Para>
    The ftp scheme specifies an FTP server for the archive. APT's FTP behavior
    is highly configurable; for more information see the
    &apt-conf; manual page. Please note that a ftp proxy can be specified
    by using the <EnVar/ftp_proxy/ environment variable. It is possible to 
    specify a http proxy (http proxy servers often understand ftp urls) using 
    this method and ONLY this method. ftp proxies using http specified in the 
    configuration file will be ignored.</para></listitem>
    </VarListEntry>

    <VarListEntry><term>copy</term>
    <ListItem><Para>
    The copy scheme is identical to the file scheme except that packages are
    copied into the cache directory instead of used directly at their location.
    This is useful for people using a zip disk to copy files around with APT.</para></listitem>
    </VarListEntry>
    
    <VarListEntry><term>rsh</term><term>ssh</term>
    <ListItem><Para>
    The rsh/ssh method invokes rsh/ssh to connect to a remote host
    as a given user and access the files. No password authentication is 
    possible, prior arrangements with RSA keys or rhosts must have been made.
    Access to files on the remote uses standard <command/find/ and <command/dd/ 
    commands to perform the file transfers from the remote.</para></listitem>
    </VarListEntry>
  </VariableList>
 </para>
 </RefSect1>
 
 <RefSect1><title>Examples</title>
   <para>
   Repomd entries for Fedora Core, Extras and Updates using variable
   substitution, assumes Apt::DistroVerPkg is set to "fedora-release":
   <literallayout>
   repomd http://download.fedora.redhat.com/pub/ fedora/linux/core/$(VERSION)/$(ARCH)/os/
   repomd http://download.fedora.redhat.com/pub/ fedora/linux/extras/$(VERSION)/$(ARCH)/
   repomd http://download.fedora.redhat.com/pub/ fedora/linux/core/updates/$(VERSION)/$(ARCH)/
   </literallayout>
   </para>
   
   <para>
   Local mirror (local disk, NFS mounted etc) of Fedora Core at 
   /var/www/html/fedora/
   <literallayout>
   repomd file:/var/www/html fedora/linux/core/$(VERSION)/$(ARCH)/
   </literallayout>
   </para>

 </RefSect1>
 
 <RefSect1><Title>See Also</>
   <para>
   &apt-cache; &apt-conf;
   </para>
 </RefSect1>

 &manbugs;
 &manauthor;
 
</refentry>

